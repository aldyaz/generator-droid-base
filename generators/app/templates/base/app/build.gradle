plugins {
    id 'com.android.application'
    id 'kotlin-android'
    id 'kotlin-kapt'
    id 'dagger.hilt.android.plugin'
}

android {

    compileSdkVersion rootProject.compileSdkVersion
    buildToolsVersion rootProject.buildToolsVersion

    defaultConfig {
        applicationId "<%= appPackage %>"
        minSdkVersion rootProject.minSdkVersion
        targetSdkVersion rootProject.targetSdkVersion
        versionCode 1
        versionName "1.0"
        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
    }

    buildFeatures {
        compose true
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }

    sourceSets {
        main.java.srcDirs += 'src/main/kotlin'
        release.java.srcDirs += 'src/release/kotlin'
        debug.java.srcDirs += 'src/debug/kotlin'
        androidTest.java.srcDirs += 'src/androidTest/kotlin'
        test.java.srcDirs += 'src/test/kotlin'
    }

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }

    composeOptions {
        kotlinCompilerExtensionVersion rootProject.kotlinCompilerExtVersion
    }
}

repositories {
    mavenCentral()
}

dependencies {

    implementation fileTree(dir: 'libs', include: ['*.jar'])

    implementation project(path: ':domain')
    implementation project(path: ':data')

    implementation rootProject.androidX.appCompat
    implementation rootProject.androidX.core
    implementation rootProject.androidX.annotation
    implementation rootProject.androidX.recyclerView
    implementation rootProject.androidX.cardView
    implementation rootProject.androidX.constraintLayout
    implementation rootProject.androidX.activityCompose

    implementation rootProject.google.material

    implementation rootProject.lifecycle.viewModel
    implementation rootProject.lifecycle.liveData

    implementation rootProject.rx.rxJava
    implementation rootProject.rx.rxAndroid

    implementation rootProject.dagger.core
    implementation rootProject.dagger.android
    implementation rootProject.dagger.androidSupport

    implementation rootProject.hilt.android

    implementation rootProject.coroutines.android

    kapt rootProject.dagger.processor
    kapt rootProject.dagger.compiler
    kapt rootProject.hilt.compiler
    kapt rootProject.lifecycle.compiler

    implementation rootProject.glide.core
    implementation rootProject.stetho.core

    implementation rootProject.compose.ui
    implementation rootProject.compose.tooling
    implementation rootProject.compose.foundation
    implementation rootProject.compose.material

    testImplementation rootProject.test.junit

    androidTestImplementation rootProject.test.androidRunner
    androidTestImplementation rootProject.test.androidRules
    androidTestImplementation rootProject.test.espressoCore
}
