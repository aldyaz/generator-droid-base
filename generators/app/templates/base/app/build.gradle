plugins {
    id 'com.android.application'
    id 'org.jetbrains.kotlin.android'
    id 'kotlin-kapt'
    id 'dagger.hilt.android.plugin'
}

android {

    compileSdkVersion rootProject.compileSdkVersion
    buildToolsVersion rootProject.buildToolsVersion

    defaultConfig {
        applicationId "com.aldyaz.movix"
        minSdkVersion rootProject.minSdkVersion
        targetSdkVersion rootProject.targetSdkVersion
        versionCode 1
        versionName "1.0"
        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
    }

    buildFeatures {
        compose true
    }

    buildTypes {
        debug {
            minifyEnabled false
        }
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }

    sourceSets {
        main.java.srcDirs += 'src/main/kotlin'
        release.java.srcDirs += 'src/release/kotlin'
        debug.java.srcDirs += 'src/debug/kotlin'
        androidTest.java.srcDirs += 'src/androidTest/kotlin'
        test.java.srcDirs += 'src/test/kotlin'
    }

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }

    kotlinOptions {
        jvmTarget = "1.8"
    }

    composeOptions {
        kotlinCompilerExtensionVersion rootProject.kotlinCompilerExtVersion
    }
}

repositories {
    mavenCentral()
}

dependencies {

    implementation fileTree(dir: 'libs', include: ['*.jar'])

    implementation project(path: ':domain')
    implementation project(path: ':data')

    implementation rootProject.androidX.appCompat
    implementation rootProject.androidX.core
    implementation rootProject.androidX.annotation
    implementation rootProject.androidX.recyclerView
    implementation rootProject.androidX.cardView
    implementation rootProject.androidX.constraintLayout
    implementation rootProject.androidX.activityCompose

    implementation rootProject.net.retrofit
    implementation rootProject.net.okHttpLogging

    implementation rootProject.google.material

    implementation rootProject.lifecycle.viewModel
    implementation rootProject.lifecycle.liveData

    implementation rootProject.google.hiltAndroid

    kapt rootProject.google.hiltCompiler
    kapt rootProject.androidX.hiltCompiler
    kapt rootProject.lifecycle.compiler

    implementation rootProject.glide.core
    implementation rootProject.stetho.core

    implementation rootProject.compose.ui
    implementation rootProject.compose.toolingPreview
    implementation rootProject.compose.foundation
    implementation rootProject.compose.material
    implementation rootProject.compose.lifecycleViewModel
    implementation rootProject.compose.runtimeLiveData

    implementation rootProject.coroutines.core
    implementation rootProject.coroutines.android

    implementation rootProject.net.moshiConverter
    implementation rootProject.net.moshiKotlin

    debugImplementation rootProject.net.chuckerDebug
    releaseImplementation rootProject.net.chuckerRelease

    debugImplementation rootProject.compose.tooling

    testImplementation rootProject.test.junit

    androidTestImplementation rootProject.test.androidRunner
    androidTestImplementation rootProject.test.androidRules
    androidTestImplementation rootProject.test.espressoCore
}
